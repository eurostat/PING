<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PING: sas_ds_iscond</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../ping_bw.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PING
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">Statistical data handling and processing in production environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/de0/md_docs_md_library_sas_ds_iscond.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">sas_ds_iscond </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>/** </p>
<p>Check whether a given condition holds for part of or all the observations (rows) of a given dataset.</p>
<div class="fragment"><div class="line">%ds_iscond(dsn, cond, _ans_=, lib=WORK);</div></div><!-- fragment --><h3>Arguments</h3>
<ul>
<li><code>dsn</code> : a dataset, for which the condition has to be verified;</li>
<li><code>cond</code> : the expression of a condition on one or several variables of <code>dsn</code> written as a SAS base code;</li>
<li><code>lib</code> : (<em>option</em>) the library in which the dataset <code>idsn</code> is stored.</li>
</ul>
<h3>Returns</h3>
<p><code>_ans_</code> : name of the macro variable used to store the (quantitative) output of the test, <em>i.e.</em>:</p><ul>
<li>1 if the condition is verified for all observations in the input dataset,</li>
<li>0 if the condition is never verified,</li>
<li>a value in [-1,0[ define as the opposite of the ratio of observations for which the condition holds otherwise.</li>
</ul>
<h3>Examples</h3>
<p>Let's perform some test on the values of test datatest #1000 (with 1000 observations sequentially enumerated), <em>e.g.</em>:</p>
<div class="fragment"><div class="line">%_dstest1000;</div><div class="line">%let ans=;</div><div class="line">%let cond=%quote(i le 0);</div><div class="line">%ds_iscond(_dstest1000, &amp;cond, _ans_=ans);</div></div><!-- fragment --><p> returns <code>ans=0</code>, while:</p>
<div class="fragment"><div class="line">%let cond=%quote(i gt 0);</div><div class="line">%ds_iscond(_dstest1000, &amp;cond, _ans_=ans);</div></div><!-- fragment --><p> returns <code>ans=1</code>, and:</p>
<div class="fragment"><div class="line">%let cond=%quote(i lt 400);</div><div class="line">%ds_iscond(_dstest1000, &amp;cond, _ans_=ans);</div></div><!-- fragment --><p> returns <code>ans=-0.4</code>.</p>
<p>Run <code>%_example_ds_iscond</code> for more examples.</p>
<h3>Notes</h3>
<ol type="1">
<li>For very large tables, the accuracy of the test is relative to the precision of your machine. In practice, for tables with more than 1E9 observations but only one for which the condition <code>cond</code> holds, the ratio calculated may be equal to 1 (instead of a value&lt;1). In that latter case, the macro will return a negative value (<code>ans=-1</code>) to avoid confusion with the case (<code>ans=1</code>) where all the condition actually holds for observations. (see <code>%_example_ds_iscond</code>).</li>
<li>In practice, simply launching:</li>
</ol>
<div class="fragment"><div class="line">%let ans=;</div><div class="line">%ds_iscond(dsn, cond, _ans_=ans, lib=WORK);</div></div><!-- fragment --><p> provides with a result equivalent to running:</p>
<div class="fragment"><div class="line">%ds_count(dsn, _nobs_=c0, lib=lib);</div><div class="line">%ds_select(dsn, _tmp, where=cond, ilib=lib);</div><div class="line">%ds_count(_tmp, _nobs_=c1, lib=lib);</div></div><!-- fragment --><p> and comparing the values of <code>c0</code> and <code>c1</code>:</p>
<div class="fragment"><div class="line">%if &amp;c1=&amp;c0 %then          %let ans=1;</div><div class="line">%else %if &amp;c1 &lt; &amp;c0 %then  %let ans=%sysevalf(-&amp;c1/&amp;c0);</div><div class="line">%else                      %let ans=0;</div></div><!-- fragment --><p> This macro however does not generate any intermediary dataset.</p><ol type="1">
<li>Note in general the use of <code>%quote</code> so as to express a condition.</li>
</ol>
<h3>Reference</h3>
<p>Gupta, S. (2006): <a href="http://www2.sas.com/proceedings/sugi31/238-31.pdf">"WHERE vs. IF statements: Knowing the difference in how and when to apply"</a>.</p>
<h3>See also</h3>
<p><a class="el" href="../../d4/ddc/sas_ds_count.html">%ds_count</a>, <a class="el" href="../../d3/d39/sas_ds_check.html">%ds_check</a>, <a class="el" href="../../de/dea/sas_ds_delete.html">%ds_delete</a>, <a class="el" href="../../df/d69/sas_ds_select.html">%ds_select</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jan 12 2018 09:15:57 for PING by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
