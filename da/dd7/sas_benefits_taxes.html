<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PING: benefits_taxes</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../ping_bw.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PING
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">Statistical data handling and processing in production environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/dd7/sas_benefits_taxes.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">benefits_taxes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Compute the per-capita benefits and taxes (benefits/allowances; taxes and social security contributions) for given geographical area(s) and period(s).</p>
<div class="fragment"><div class="line">%benefits_taxes(geo, year, varaddh=, varaddp=,vartaxes= ,breakdowns1=, breakdowns2=, weight=, </div><div class="line">    type=G, yes_or_not=YES, odsn=Benefits_Taxes_YES, olib=WORK);</div></div><!-- fragment --><h3>Arguments</h3>
<ul>
<li><code>geo</code> : a list of countries or a geographical area; default: <code>geo=EU28</code>;</li>
<li><code>year</code> : year of interest;</li>
<li><code>varaddh</code> : (<em>option</em>) list of social benefits, at household level; default: <code>varaddh</code> is empty; The fiscal aggregate is attributed to each family member proportionally to their gross total personal income</li>
<li><code>varaddp</code> : (<em>option</em>) list of social benefits, at personal level;default: <code>varaddp</code> is empty;</li>
<li><code>vartaxes</code>: (<em>option</em>) list of tax/income;default: <code>vartaxes</code> is empty;</li>
<li><code>breakdowns1</code>:(<em>option</em>) list of tax and contribution component;</li>
<li><code>breakdowns2</code>:(<em>option</em>) list of breakdowns variable: default: age and sex.</li>
<li><code>weight</code> : (<em>option</em>) personal weight variable used to weighting the distribution; default: <code>weight=RES_WGT</code>;</li>
<li><code>type</code> : (<em>option</em>) flag set to 'N' or 'G' to consider net and gross values respectively; default: <code>type=G</code>;</li>
<li><code>yes_or_not</code>:(<em>option</em>) flag set to 'YES' or 'NOT' to consider ZERO and NOT ZERO values for benefits/taxes variables respectively;</li>
<li><code>odsn</code> : (<em>option</em>) generic name of the output datasets; default: <code>odsn=Ben_taxes</code>;</li>
<li><code>olib</code> : (<em>option</em>) name of the output library; by default, when not set, <code>olib=WORK</code>;</li>
</ul>
<h3>Returns</h3>
<ul>
<li><code>odsn</code> : (<em>option</em>) name of the output datasets; default: <code>odsn=Ben_taxes.&amp;zero</code>;</li>
<li><code>olib</code> : (<em>option</em>) name of the output library; by default, when not set, <code>olib=WORK</code>;</li>
</ul>
<h3>Example</h3>
<p>Let us consider the following configuration parameters: </p><div class="fragment"><div class="line">%let year=2015;</div><div class="line">%let geo=AT;</div><div class="line">%let type=G;        * gross values: this is default by the way;</div><div class="line">%let varaddh=HY050 HY060 HY070;</div><div class="line">%let varaddp=PY090G PY100G PY110G PY120G PY130G PY140G;</div><div class="line">%let vartaxes=HY040 HY080 HY090 HY110  PY010 PY021 PY050 PY080;</div><div class="line">%let breakdowns1=HY050 ;</div><div class="line">%let breakdowns2=AGE SEX;</div><div class="line">%let yes_or_not=NOT;  * then %let zero=YES the zero values are included;</div><div class="line">%let weight=RES_WGT ;  * this is the default;</div><div class="line">%let odsn=Ben_taxes.NotZero;</div><div class="line">%let olib=WORK;</div></div><!-- fragment --><p>we implicitely compute the Benefits and taxes, normally expressed as: </p><div class="fragment"><div class="line">%let var=HY050;</div><div class="line">SUM(PY010G,PY020G,PY050G,PY080G,PY090G,PY100G,PY110G,PY130G,PY140G) as totgross at personal level</div><div class="line">SUM(totgross) as tot_H by HH</div><div class="line">&amp;var/tot_H as allowratio_&amp;vars</div><div class="line">allowratio_&amp;var * totgross as new &amp;var</div></div><!-- fragment --><p>so as to produce the following <code>Ben_taxes.NotZero</code> table in <code>WORK</code> library: </p><table class="doxtable">
<tr>
<th align="center">GEO </th><th align="center">TIME </th><th align="center">AGE </th><th align="center">SEX </th><th align="center">BENEFIT_TAX </th><th align="center">MEAN </th><th align="center">FLAG </th><th align="center">N </th><th align="center">NTOT </th><th align="center">NTOTWGH  </th></tr>
<tr>
<td align="center">AT </td><td align="center">2015 </td><td align="center">Y15-19</td><td align="center">T </td><td align="center">HY050 </td><td align="center">350.4 </td><td align="center"></td><td align="center">742 </td><td align="center">742 </td><td align="center">518055.49 </td></tr>
</table>
<p>In practice, the example above realises the following stepwise calculations: </p><div class="fragment"><div class="line">PROC SQL;  </div><div class="line">    CREATE TABLE work.dsn AS</div><div class="line">    SELECT *,</div><div class="line">    sum(totgross) as tot_H,</div><div class="line">    &amp;var/(calculated tot_H) as allowratio_&amp;var,</div><div class="line">    (calculated allowratio_&amp;var)*totgross as tax_&amp;var  </div><div class="line">    FROM BASE </div><div class="line">    where &amp;var&gt;0 </div><div class="line">    GROUP BY DB020, DB030</div><div class="line"> ; </div><div class="line">QUIT;</div><div class="line">data dsn (drop=tax_&amp;var) ;</div><div class="line">    set dsn;</div><div class="line">    &amp;var=tax_&amp;var;</div><div class="line">run;</div><div class="line">PROC TABULATE data=work.dsn out=&amp;var ;</div><div class="line">   FORMAT AGE f_age9.;</div><div class="line">    FORMAT RB090 f_sex.;</div><div class="line">    CLASS DB020;</div><div class="line">    CLASS AGE /MLF;</div><div class="line">    CLASS RB090 /MLF;</div><div class="line">    VAR &amp;var ;</div><div class="line">    weight &amp;weight;</div><div class="line">    TABLE DB020 * AGE * RB090, &amp;var  * ( N mean sum sumwgt) /printmiss;</div><div class="line">RUN;</div></div><!-- fragment --><p> where the datasets <code>&amp;idb</code>, <code>&amp;Hpdb</code>, and <code>&amp;Ppdb</code> that appear above store the input personal and household data. These datasets, as well as the libraries <code>bdb</code> and <code>idb</code>, can be retrieved using the macro <a class="el" href="../../de/dfa/sas_silc_db_locate.html">%silc_db_locate</a>.</p>
<h3>Notes</h3>
<ol type="1">
<li>The list of (net and gross) benefits and taxes components normally considered (hence listed in <code>varaddp/h</code> and <code>vartaxes</code> variables) are to be chosen among:<ul>
<li>social benefits, at personal level (<code>varaddp</code>): -<code>PY090G</code>: unemployment benefits,<ul>
<li><code>PY100G</code>: old-age benefits,</li>
<li><code>PY110G</code>: survivors' benefits,</li>
<li><code>PY120G</code>: sickness benefits,</li>
<li><code>PY130G</code>: disability benefits,</li>
<li><code>PY140G</code>: education-related allowances,</li>
</ul>
</li>
<li>social benefits, at household level (<code>varaddh</code>): -<code>HY050G</code>: family/children-related allowances), -<code>HY060G</code>: social exclusion not elsewhere classified), -<code>HY070G</code>: housing allowances),</li>
<li>tax/income (<code>vartaxes</code>): -<code>HY140G</code>: tax on income and social insurance contributions, tax vs. benefit components separately, -<code>HY120G</code>: regular taxes on wealth, -<code>PY030G</code>: employers' social insurance contributions.</li>
</ul>
</li>
<li>The breakdowns to be considered are generally:<ul>
<li><code>breakdowns1</code>: all benefits and taxes variables,</li>
<li><code>breakdowns2:</code>age<code>(0-4, ........., 95+) and</code>sex`, e.g. using the following formats: <div class="fragment"><div class="line">VALUE f_age_ (multilabel)</div><div class="line">      0 - 4 = &quot;Y0-4&quot;</div><div class="line">      5 - 9 = &quot;Y5-9&quot;</div><div class="line">      10 - 14 = &quot;Y10-14&quot;</div><div class="line">      15 - 19 = &quot;Y15-19&quot;</div><div class="line">      20 - 24 = &quot;Y20-24&quot;</div><div class="line">      25 - 29 = &quot;Y25-29&quot;</div><div class="line">      30 - 34 = &quot;Y30-34&quot;</div><div class="line">      35 - 39 = &quot;Y35-39&quot;</div><div class="line">      40 - 44 = &quot;Y40-44&quot;</div><div class="line">      45 - 49 = &quot;Y45-49&quot;</div><div class="line">      50 - 54 = &quot;Y50-54&quot;</div><div class="line">      55 - 59 = &quot;Y50-59&quot;</div><div class="line">      60 - 64 = &quot;Y60-64&quot;</div><div class="line">      65 - 69 = &quot;Y65-69&quot;</div><div class="line">      70 - 74 = &quot;Y70-74&quot;</div><div class="line">      75 - 79 = &quot;Y75-79&quot;</div><div class="line">      80 - 84 = &quot;Y80-84&quot;</div><div class="line">      85 - 89 = &quot;Y85-89&quot;</div><div class="line">      90 - 94 = &quot;Y90-94&quot;</div><div class="line">      95 - HIGH = &quot;Y_GE95&quot;</div><div class="line">          ;</div><div class="line">VALUE f_RB090_ (multilabel)</div><div class="line">      1 = &quot;M&quot;</div><div class="line">      2 = &quot;F&quot;</div><div class="line">      1 - 2 = &quot;T&quot;;</div></div><!-- fragment --></li>
</ul>
</li>
</ol>
<h3>References</h3>
<ol type="1">
<li>EU-SILC survey reference document <a href="https://circabc.europa.eu/sd/a/2aa6257f-0e3c-4f1c-947f-76ae7b275cfe/DOCSILC065%20operation%202014%20VERSION%20reconciliated%20and%20early%20transmission%20October%202014.pdf">doc65</a>.</li>
<li>DG EMPL (2015): <a href="http://ec.europa.eu/eurostat/cros/system/files/05-2014-wage_and_income_inequality_in_the_eu_0.pdf">"Wage and income inequality in the European Union"</a>. </li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/d8c/_services.html">7.4 Services</a></li>
    <li class="footer">Generated on Fri Jan 12 2018 09:15:51 for PING by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
