<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PING: Stats</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../ping_bw.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PING
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">Statistical data handling and processing in production environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d5a/group___stats.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Stats</div>  </div>
</div><!--header-->
<div class="contents">
<p>Divide a given sample, possibly weighted, into a certain number of slices of equal size, with units ranked according to a variable of interest.</p>
<p>Contents:</p>
<ul>
<li><a class="el" href="../../df/d22/sas_quantile.html">SAS quantile</a></li>
<li><a class="el" href="../../db/da8/r_quantile.html">R quantile</a></li>
</ul>
<p><b>Algorithm</b></p>
<p>Nine quantile algorithms are made available, as discussed in Hyndman and Fan's, plus two additional coming also from the literature, namely Filliben’s and Cunnane's publication (see <a href="../../#References">references</a>):</p>
<table class="doxtable">
<tr>
<th align="center"><code>type</code> </th><th align="left">description  </th></tr>
<tr>
<td align="center">1 </td><td align="left">inverted empirical CDF </td></tr>
<tr>
<td align="center">2 </td><td align="left">inverted empirical CDF with averaging at discontinuities </td></tr>
<tr>
<td align="center">3 </td><td align="left">observation numberer closest to qN (piecewise linear function) </td></tr>
<tr>
<td align="center">4 </td><td align="left">linear interpolation of the empirical CDF </td></tr>
<tr>
<td align="center">5 </td><td align="left">Hazen's model (piecewise linear function) </td></tr>
<tr>
<td align="center">6 </td><td align="left">Weibull quantile </td></tr>
<tr>
<td align="center">7 </td><td align="left">interpolation points divide sample range into n-1 intervals </td></tr>
<tr>
<td align="center">8 </td><td align="left">unbiased median (regardless of the distribution) </td></tr>
<tr>
<td align="center">9 </td><td align="left">approximate unbiased estimate for a normal distribution </td></tr>
<tr>
<td align="center">10 </td><td align="left">Cunnane's definition (approximately unbiased) </td></tr>
<tr>
<td align="center">11 </td><td align="left">Filliben’s estimate </td></tr>
</table>
<p>All sample quantiles are defined as weighted averages of consecutive order statistics. Sample quantiles of type <code>i</code> are defined for <code>1 &lt;= i &lt;= 10</code> by: </p><pre class="fragment">Q[i](p) = (1 - gamma) * x[j] + gamma *  x[j+1]
</pre><p> where <code>x[j]</code>, for <code>(j-m)/N&lt;=p&lt;(j-m+1)/N</code>, is the <code>j</code>-th order statistic, <code>N</code> is the sample size, the value of <code>gamma</code> is a function of: </p><pre class="fragment">j = floor(N*p + m)
g = N*p + m - j
</pre><p> and <code>m</code> is a constant determined by the sample quantile type.</p>
<p>For types 1, 2 and 3, <code>Q[i](p)</code> is a discontinuous function:</p>
<table class="doxtable">
<tr>
<th align="center"><code>type</code> </th><th align="center"><code>p[k]</code> </th><th align="center"><code>m</code> </th><th align="center"><code>alphap</code></th><th align="center"><code>betap</code></th><th align="center"><code>gamma</code>  </th></tr>
<tr>
<td align="center">1 </td><td align="center"><code>k/N</code> </td><td align="center">0 </td><td align="center">0 </td><td align="center">1 </td><td align="center">1 if <code>g&gt;0</code>, 0 if <code>g=0</code> </td></tr>
<tr>
<td align="center">2 </td><td align="center"><code>k/N</code> </td><td align="center">0 </td><td align="center">0 </td><td align="center">1 </td><td align="center">1/2 if <code>g&gt;0</code>, 0 if <code>g=0</code> </td></tr>
<tr>
<td align="center">3 </td><td align="center"><code>(k+1/2)/N</code> </td><td align="center">-.5 </td><td align="center">-.5 </td><td align="center">-1.5 </td><td align="center">0 if <code>g=0</code> and <code>j</code> even, 1 otherwise </td></tr>
</table>
<p>For types 4 through 11, <code>Q[i](p)</code> is a continuous function of <code>p</code>, with <code>gamma</code> and <code>m</code> given below. The sample quantiles can be obtained equivalently by linear interpolation between the points <code>(p[k],x[k])</code> where <code>x[k]</code> is the <code>k</code>-th order statistic:</p>
<table class="doxtable">
<tr>
<th align="center"><code>type</code> </th><th align="center"><code>p[k]</code> </th><th align="center"><code>m</code> </th><th align="center"><code>alphap</code></th><th align="center"><code>betap</code></th><th align="center"><code>gamma</code>  </th></tr>
<tr>
<td align="center">4 </td><td align="center"><code>k/N</code> </td><td align="center">0 </td><td align="center">0 </td><td align="center">1 </td><td align="center"><code>g</code> </td></tr>
<tr>
<td align="center">5 </td><td align="center"><code>(k-1/2)/N</code> </td><td align="center">.5 </td><td align="center">.5 </td><td align="center">.5 </td><td align="center"><code>g</code> </td></tr>
<tr>
<td align="center">6 </td><td align="center"><code>k/(N+1)</code> </td><td align="center"><code>p</code> </td><td align="center">0 </td><td align="center">0 </td><td align="center"><code>g</code> </td></tr>
<tr>
<td align="center">7 </td><td align="center"><code>(k-1)/(N-1)</code> </td><td align="center"><code>1-p</code> </td><td align="center">1 </td><td align="center">1 </td><td align="center"><code>g</code> </td></tr>
<tr>
<td align="center">8 </td><td align="center"><code>(k-1/3)/(N+1/3)</code> </td><td align="center"><code>(1+p)3</code> </td><td align="center">1/3 </td><td align="center">1/3 </td><td align="center"><code>g</code> </td></tr>
<tr>
<td align="center">9 </td><td align="center"><code>(k-3/8)/(N+1/4)</code> </td><td align="center"><code>(2*p+3)/8</code></td><td align="center">3/8 </td><td align="center">3/8 </td><td align="center"><code>g</code> </td></tr>
<tr>
<td align="center">10 </td><td align="center"><code>(k-.4)/(N+.2)</code> </td><td align="center"><code>.2*p+.4</code> </td><td align="center">.4 </td><td align="center">.4 </td><td align="center"><code>g</code> </td></tr>
<tr>
<td align="center">11 </td><td align="center"><code>(k-.3175)/(N+.365)</code></td><td align="center"><code>.365*p+.3175</code></td><td align="center">.3175 </td><td align="center">.3175 </td><td align="center"><code>g</code> </td></tr>
</table>
<p>In the above tables, the <code>(alphap,betap)</code> pair is defined such that: </p><pre class="fragment">p[k] = (k - alphap)/(N + 1 - alphap - betap)
</pre><p><a class="anchor" id="References"></a> <b>References</b></p>
<ul>
<li>Makkonen, L. and Pajari, M. (2014): <a href="https://www.hindawi.com/journals/jps/2014/326579/cta/">"Defining sample quantiles by the true rank probability"</a>.</li>
<li>Hyndman, R.J. and Fan, Y. (1996): <a href="https://www.amherst.edu/media/view/129116/original/Sample+Quantiles.pdf"><b>Sample quantiles in statistical packages</b></a>, <em>The American Statistician</em>, 50(4):361-365, doi:<a href="http://www.jstor.org/stable/2684934">10.2307/2684934</a></li>
<li>Cunnane, C. (1978): <a href="http://www.sciencedirect.com/science/article/pii/0022169478900173"><b>Unbiased plotting positions: a review</b></a>, <em>Journal of Hydrology</em>, 37(3-4):205-222, doi:<a href="https://dx.doi.org/10.1016/0022-1694(78)90017-3">10.1016/0022-1694(78)90017-3</a>.</li>
<li>Filliben, J.J. (1975): <a href="http://www1.cmc.edu/pages/faculty/MONeill/Math152/Handouts/filliben.pdf"><b>The probability plot correlation coefficient test for normality</b></a>, <em>Technometrics</em>, 17(1):111-117, doi:<a href="https://dx.doi.org/10.2307/1268008">10.2307/1268008</a>.</li>
<li>Barnett, V. (1975): <a href="http://www.jstor.org/stable/2346708">"Probability plotting methods and order statistics"</a>. </li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jan 12 2018 11:50:20 for PING by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
