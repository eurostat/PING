<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PING: Usage</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../ping_bw.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PING
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">Statistical data handling and processing in production environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/dcb/mainpage_usage.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>PING SAS macros - <em>current usage</em></h3>
<p>Currently, SAS macros in <code>PING</code> library are made available through the <code>autocall</code> functionality, <em>i.e.</em> they are retrieved by providing SAS with their actual location. In the future, they will be saved as stored processes (<code>/ store</code> option) and, therefore, will be retrieved through the <code>MSTORED</code> option.</p>
<p>There are then different ways to set your environment so as to be able to load and run available <code>PING</code> macros, depending whether <b>you are already running a SAS session</b>, <em>e.g.</em> employing:</p><ul>
<li>the <a class="el" href="../../dd/dcb/mainpage_usage.html#SASautocall">autocall option</a>,</li>
<li>a <a class="el" href="../../dd/dcb/mainpage_usage.html#macroSASautocall">setup macro</a>,</li>
</ul>
<p><b>or not</b>, <em>e.g.</em> launching SAS:</p><ul>
<li>with an <a class="el" href="../../dd/dcb/mainpage_usage.html#SASautoexec">autoexec file</a>,</li>
<li>with SAS Enterprise Guide and an <a class="el" href="../../dd/dcb/mainpage_usage.html#EGautoexec">autoexec workflow</a>.</li>
</ul>
<p>Hence, depending on your context, you can follow any of the methods described in the instructions below. Note that our preference for the settings goes to the last two methods. In particular, the <a class="el" href="../../dd/dcb/mainpage_usage.html#EGautoexec">last one</a> being preferred for users running on SAS EG.</p>
<p><a class="anchor" id="SASautocall"></a> </p>
<h4>Use <code>autocall</code> directly</h4>
<p>You will first need to set the path of your install, then you will be able to configure the <code>SASAUTOS</code> environment (defining where to look for macros) using the corresponding keyword with <code>options</code> as follows:</p>
<div class="fragment"><div class="line">%let G_PING_SETUPPATH=&lt;/your/server/PING&gt;; </div><div class="line">options MAUTOSOURCE;</div><div class="line">options SASAUTOS =(SASAUTOS </div><div class="line">    &quot;&amp;G_PING_SETUPPATH/library/pgm/&quot;        </div><div class="line">    &quot;&amp;G_PING_SETUPPATH/library/test&quot;            </div><div class="line">    &quot;&amp;G_PING_SETUPPATH/5.1_Integration/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/5.3_Validation/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/5.5_Extraction/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/5.5_Estimation/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/5.7_Aggregates/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/6.3_Analysis/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/7.1_Upload/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/7.2_Visualisation/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/7.3_Dissemination/pgm/&quot;</div><div class="line">    &quot;&amp;G_PING_SETUPPATH/7.4_Services/pgm/&quot;</div><div class="line">    );</div></div><!-- fragment --><p> This way you will be able to run <code>PING</code> macros. However, this command alone will not allow you to load/set all default configuration parameters (<em>e.g.</em> global variables) associated to the <code>PING</code> library.</p>
<p><a class="anchor" id="macroSASautocall"></a> </p>
<h4>Use a default setup (<em>e.g.</em>, <code>_default_setup_</code>) macro</h4>
<p>In order to load all PING macros, as well as associated default configuration parameters, we provide a configuration file named <code>_setup_.sas</code> (documentation <a href="../../#sas_setup_">here</a>; file is located in the directory <code>library/autoexec</code>). You can then set your SAS environment with something similar to the following command:</p>
<div class="fragment"><div class="line">%global G_PING_SETUPPATH</div><div class="line">    G_PING_PROJECT </div><div class="line">    G_PING_DATABASE;</div><div class="line">%let G_PING_SETUPPATH=  &lt;/path/to/your/server/PING/&gt;; </div><div class="line">%let G_PING_PROJECT=    &lt;you_choose&gt;;</div><div class="line">%let G_PING_DATABASE=   &lt;/path/to/your/data/server/&gt;;</div><div class="line">%include &quot;&amp;G_PING_SETUPPATH/library/autoexec/_setup_.sas&quot;;  </div><div class="line">%_default_setup_;</div></div><!-- fragment --><p> Note however that this will work only if you have not already set your <code>SASAUTOS</code> environment using (<em>e.g.</em> using the <code>options SASAUTOS</code> command like above) since <code>SASAUTOS</code> can be set once only. So as to avoid launching the <code>options SASAUTOS</code> several times, you can put the setup commands above inside a conditional macro as follows, and launch it during your SAS session (or every time you use a <code>PING</code> macro, since it will have no effect, though it will not be very elegant), <em>e.g.</em>:</p>
<div class="fragment"><div class="line">%macro _ping_setup;</div><div class="line">    %if %symexist(G_PING_ROOTPATH) EQ 0 %then %do; </div><div class="line">        %if %symexist(G_PING_SETUPPATH) EQ 0 %then  %let G_PING_SETUPPATH=&lt;/your/server/PING&gt;; </div><div class="line">        %include &quot;&amp;G_PING_SETUPPATH/library/autoexec/_setup_.sas&quot;;</div><div class="line">        %_default_setup_;</div><div class="line">    %end;</div><div class="line">%mend _ping_setup;</div><div class="line">%_ping_setup;</div></div><!-- fragment --><p> Note moreover that you can implement your own default configuration and load it similarly.</p>
<p><a class="anchor" id="SASautoexec"></a> </p>
<h4>Use an <code>autoexec</code> file to launch your SAS session</h4>
<p>The commands above can be inserted into a file that will be automatically loaded (and ran) by SAS at launch time. This feature is enabled by the so-called <code>autoexec</code> option (see <a href="http://support.sas.com/documentation/cdl/en/hostunx/63053/HTML/default/viewer.htm#p13flc1vsrqwr8n1vutzds8rp3t0.htm">"Customizing Your SAS Session by Using Configuration and Autoexec Files"</a>). In practice, a file (named <code>cfg_SAS_PING.sas</code> with SAS version 9.2) shall be saved in your <code>HOME</code> directory (or any other location), or created on-the-fly, so as to contain the following settings (similar to what is described above), <em>e.g.</em>:</p>
<div class="fragment"><div class="line">%global G_PING_SETUPPATH</div><div class="line">    G_PING_PROJECT </div><div class="line">    G_PING_DATABASE;</div><div class="line">%let G_PING_SETUPPATH=  &lt;/path/to/your/server/PING/&gt;; </div><div class="line">%let G_PING_PROJECT=    &lt;you_choose&gt;;</div><div class="line">%let G_PING_DATABASE=   &lt;/path/to/your/data/server/&gt;;</div><div class="line">%include &quot;&amp;G_PING_SETUPPATH/library/autoexec/_setup_.sas&quot;;  </div><div class="line">%_default_setup_;</div></div><!-- fragment --><p>Then, SAS can be launched by specifying this file in the <code>-autoexec</code> option of the inline command, _.e.g._ (in general, you will need to be on the SAS server for this command to run):</p>
<div class="image">
<img src="../../img/sas_autoexec.png" alt="sas autoexec library/autoexec/cfg_SAS_PING.sas"/>
</div>
<p>granted that the location of SAS software has been added to your <code>PATH</code> (otherwise, in our case we would run <code>&lt;SAS_SERVER&gt;/sas/bin/SAS92/SASFoundation/9.2/sas</code>), and considering the configuration file has been saved as <code>library/autoexec/cfg_SAS_PING.sas</code>.</p>
<p>Further, we provide the bash script <code>sas_ping.sh</code> (located in practice in library/bin/`) as an alias for this operation to be performed on-the-fly (hence, no need to create the configuration file beforehand), <em>e.g.</em>:</p>
<div class="image">
<img src="../../img/sas_ping.png" alt="bash library/bin/sas_ping.sh"/>
</div>
<p>will launch your SAS session with all desired settings.</p>
<p><a class="anchor" id="EGautoexec"></a> </p>
<h4>Use an <code>autoexec</code> workflow with your SAS EG session</h4>
<p>The <code>autoexec</code> feature of SAS EG can be used to load all <code>PING</code> settings, _.e.g_ by creating an <code>autoexec</code> workflow in your project, and either:</p><ul>
<li>embedding in it a copy of, or inserting a link to, the file <code>cfg_SAS_PING.sas</code> (<b>recommended</b>), or <div class="image">
<img src="../../img/sas_eg_autoexec1.png" border="1" alt="cfg_SAS_PING.sas in autoexec"/>
</div>
</li>
<li>inserting a reference to the default configuration file <code>_setup_.sas</code> (located in <code>library/autoexec</code>) and linking to an embedded program that runs (only) <code>%_default_setup_;</code>. <div class="image">
<img src="../../img/sas_eg_autoexec2.png" border="1" alt="_setup_.sas in autoexec"/>
</div>
</li>
</ul>
<p>SAS EG will then submit the programs associated to the <code>autoexec</code> workflow when your Workspace Server session is created on the SAS Server (see <a href="http://www.lexjansen.com/wuss/2013/83_Paper.pdf">"Writing code in SAS Enterprise Guide"</a>). This occurs at launch time of SAS EG.</p>
<p><a class="anchor" id="R"></a> </p>
<h3>PING R functions</h3>
<p><em>To be developed...</em> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">index</a></li>
    <li class="footer">Generated on Fri Jan 12 2018 18:46:05 for PING by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
